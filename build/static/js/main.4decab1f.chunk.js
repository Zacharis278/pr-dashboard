(window["webpackJsonppr-dashboard"]=window["webpackJsonppr-dashboard"]||[]).push([[0],{19:function(e,t,a){e.exports=a(44)},24:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(12),o=a.n(s),c=(a(24),a(13)),l=a(14),u=a(17),i=a(15),d=a(18),m=a(16),v=a.n(m),f=a(2),E=a.n(f);a(43);function h(e){var t;return t="APPROVED"===e.state?"fa-check":"CHANGES_REQUESTED"===e.state?"fa-times":"fa-commenting-o",r.a.createElement("div",{className:"review"},r.a.createElement("img",{className:"review-avatar",src:e.author.avatarUrl,alt:e.author.login}),r.a.createElement("i",{className:"fa ".concat(t," review-icon")}))}function p(e){var t,a,n=e.value;try{t=n.commits.edges[0].node.commit.status.state}catch(s){t=null}return a="SUCCESS"===t?"status-success":"FAILURE"===t?"status-failure":"PENDING"===t?"status-pending":"status-unknown",r.a.createElement("div",{className:"pr-container ".concat(a)},r.a.createElement("img",{className:"author-avatar",src:n.author.avatarUrl,alt:n.author.login}),r.a.createElement("div",{className:"date-info"},r.a.createElement("p",null,r.a.createElement("b",null,"Updated")),r.a.createElement("p",{className:"dateUpdated"},E()(n.updatedAt).fromNow())),r.a.createElement("h2",{className:"title"},n.title),r.a.createElement("div",{className:"details"},r.a.createElement("div",{className:"repo-name"},n.repository.name),n.reviews.edges.map(function(e){return r.a.createElement(h,{author:e.node.author,state:e.node.state})})))}var g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={loaded:!1,error:null,pullRequests:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchData(),setInterval(function(){return e.fetchData()},12e4)}},{key:"resolveReviews",value:function(e){var t={};e.reviews.edges.forEach(function(e){var a=e.node.author.login,n=E()(e.node.updatedAt),r=t[a];r&&!E()(r.node.updatedAt).isBefore(n)||(t[a]=e)}),e.reviews.edges=Object.values(t)}},{key:"fetchData",value:function(){var e=this;v.a.get("/query/").then(function(t){try{var a=t.data.data.search.edges;a.forEach(function(t){e.resolveReviews(t.node)}),e.setState({loaded:!0,error:null,pullRequests:a})}catch(n){e.setState({loaded:!0,error:n})}},function(t){console.log(t),e.setState({loaded:!0,error:t})})}},{key:"render",value:function(){var e=this.state,t=e.loaded,a=e.error,n=e.pullRequests,s=null;return a?s=r.a.createElement("div",{className:"status-bar error"},"Error: ",a.message):t||(s=r.a.createElement("div",{className:"status-bar info"},"Loading...")),r.a.createElement("div",null,s,n.map(function(e,t){return r.a.createElement(p,{key:t,value:e.node})}))}}]),t}(n.Component);o.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.4decab1f.chunk.js.map